# ğŸ—ï¸ Architecture Diagrams for Presentation

## ğŸ“Š Text-based Diagrams for Slides

---

## **DIAGRAM 1: Monolithic Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BookVault Monolithic                    â”‚
â”‚                    Port: 8080                            â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Controllers â”‚  â”‚   Services   â”‚  â”‚  Repositoriesâ”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ - Admin      â”‚  â”‚ - Book       â”‚  â”‚ - Book       â”‚ â”‚
â”‚  â”‚ - Book       â”‚  â”‚ - Borrow     â”‚  â”‚ - Borrow     â”‚ â”‚
â”‚  â”‚ - User       â”‚  â”‚ - User       â”‚  â”‚ - User       â”‚ â”‚
â”‚  â”‚ - Chat       â”‚  â”‚ - Auth       â”‚  â”‚ - Chat       â”‚ â”‚
â”‚  â”‚ - Game       â”‚  â”‚ - Game       â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Thymeleaf Templates (Frontend)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   MySQL Database â”‚
              â”‚   Port: 3306     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Characteristics**:
- Single deployment unit
- Single database
- All features in one app
- Tight coupling

---

## **DIAGRAM 2: Microservices Architecture (Overview)**

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   React     â”‚
                    â”‚  Frontend  â”‚
                    â”‚  Port:3000  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP/REST
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   API Gateway          â”‚
              â”‚   Port: 8080           â”‚
              â”‚   - Routing            â”‚
              â”‚   - JWT Validation     â”‚
              â”‚   - CORS               â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚            â”‚            â”‚
        â–¼            â–¼            â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  IAM   â”‚  â”‚Catalog â”‚  â”‚Borrow  â”‚  â”‚ Search â”‚
   â”‚ :8082  â”‚  â”‚ :8081  â”‚  â”‚ :8083  â”‚  â”‚ :8084  â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚           â”‚           â”‚           â”‚
       â–¼           â–¼           â–¼           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚IAM DB â”‚   â”‚Cat DB â”‚   â”‚Bor DB â”‚   â”‚Elastic   â”‚
   â”‚:5434  â”‚   â”‚:5433  â”‚   â”‚:5435  â”‚   â”‚:9200     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Notify  â”‚  â”‚ Media  â”‚  â”‚ Admin  â”‚
        â”‚ :8085  â”‚  â”‚ :8086  â”‚  â”‚ :8087  â”‚
        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
            â”‚           â”‚           â”‚
            â–¼           â–¼           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚Kafka  â”‚   â”‚ MinIO â”‚   â”‚Aggregate â”‚
        â”‚:9092  â”‚   â”‚ :9000 â”‚   â”‚(Read-Only)â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Characteristics**:
- 7 independent services
- Database per service
- Specialized infrastructure
- Loose coupling

---

## **DIAGRAM 3: Service Communication Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontendâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ 1. Login Request
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway   â”‚
â”‚  (JWT Val) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
     â”‚    â”‚
     â”‚    â”‚ 2. Route to IAM
     â”‚    â–¼
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”
     â”‚ â”‚ IAM â”‚
     â”‚ â”‚:8082â”‚
     â”‚ â””â”€â”€â”¬â”€â”€â”€â”˜
     â”‚    â”‚ 3. Validate & Generate JWT
     â”‚    â–¼
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”
     â”‚ â”‚IAM DB â”‚
     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 4. Return JWT
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Frontend â”‚ (Stores JWT)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ 5. Create Book (with JWT)
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway   â”‚
â”‚  (JWT Val) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 6. Route to Catalog
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Catalog  â”‚
â”‚  :8081   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 7. Save Book
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Catalog DB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 8. Publish Event
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kafka   â”‚
â”‚  :9092   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 9. Consume Event
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Search     â”‚ (Index in Elasticsearch)
â”‚  :8084      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **DIAGRAM 4: Database per Service Pattern**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Database per Service                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚IAM       â”‚      â”‚ Catalog      â”‚      â”‚ Borrowing    â”‚
â”‚Service   â”‚      â”‚ Service      â”‚      â”‚ Service      â”‚
â”‚:8082     â”‚      â”‚ :8081        â”‚      â”‚ :8083        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                      â”‚
     â”‚                   â”‚                      â”‚
     â–¼                   â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚IAM DB    â”‚      â”‚ Catalog DB   â”‚      â”‚ Borrowing DB â”‚
â”‚:5434     â”‚      â”‚ :5433        â”‚      â”‚ :5435        â”‚
â”‚          â”‚      â”‚              â”‚      â”‚              â”‚
â”‚- users   â”‚      â”‚- books       â”‚      â”‚- loans       â”‚
â”‚- roles   â”‚      â”‚- authors     â”‚      â”‚- fines       â”‚
â”‚          â”‚      â”‚- genres      â”‚      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
âœ… Independent scaling
âœ… Technology flexibility
âœ… Fault isolation
âœ… Team autonomy
```

---

## **DIAGRAM 5: Event-Driven Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Catalog    â”‚
â”‚   Service    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Create Book
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Catalog DB   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Publish Event
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Kafka Broker            â”‚
â”‚         Topic: book-events      â”‚
â”‚                                 â”‚
â”‚  - BookCreated                  â”‚
â”‚  - InventoryAdjusted            â”‚
â”‚  - BookUpdated                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Consume Events
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚       â”‚          â”‚          â”‚
   â–¼       â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Searchâ”‚ â”‚Notifyâ”‚ â”‚Admin   â”‚ â”‚Analyticsâ”‚
â”‚:8084 â”‚ â”‚:8085 â”‚ â”‚:8087   â”‚ â”‚(Future) â”‚
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
âœ… Decoupling
âœ… Scalability
âœ… Resilience
âœ… Async processing
```

---

## **DIAGRAM 6: Security Flow (JWT Authentication)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ 1. POST /api/iam/v1/auth/login
     â”‚    {username, password}
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway   â”‚
â”‚  (Public)   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 2. Route to IAM
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IAM    â”‚
â”‚ Service  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 3. Validate credentials
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IAM DB  â”‚
â”‚ (BCrypt) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 4. Generate JWT (RS256)
     â”‚    Private Key â†’ Sign
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IAM    â”‚
â”‚ Service  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 5. Return JWT Token
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚ (Stores JWT)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ 6. Request with JWT
     â”‚    Header: Authorization: Bearer <token>
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway   â”‚
â”‚  (Validate) â”‚
â”‚             â”‚
â”‚  - Extract JWT
â”‚  - Get Public Key from IAM
â”‚  - Verify Signature (RS256)
â”‚  - Check Expiration
â”‚  - Extract Claims (username, role)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 7. Forward to Service
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Service  â”‚ (Authorized Request)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **DIAGRAM 7: Deployment Architecture**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Development (Docker Compose)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

docker compose up -d
    â”‚
    â”œâ”€â”€ catalog-postgres:5433
    â”œâ”€â”€ iam-postgres:5434
    â”œâ”€â”€ borrowing-postgres:5435
    â”œâ”€â”€ zookeeper:2181
    â”œâ”€â”€ kafka:9092
    â”œâ”€â”€ elasticsearch:9200
    â”œâ”€â”€ minio:9000
    â”œâ”€â”€ catalog:8081
    â”œâ”€â”€ iam:8082
    â”œâ”€â”€ borrowing:8083
    â”œâ”€â”€ search:8084
    â”œâ”€â”€ notification:8085
    â”œâ”€â”€ media:8086
    â”œâ”€â”€ admin:8087
    â””â”€â”€ gateway:8080


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Production (Kubernetes + Helm)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

kubectl cluster
    â”‚
    â”œâ”€â”€ Namespace: bookvault
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Gateway Deployment
    â”‚   â”‚   â””â”€â”€ Service (LoadBalancer)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ IAM Deployment
    â”‚   â”‚   â”œâ”€â”€ Service (ClusterIP)
    â”‚   â”‚   â””â”€â”€ PostgreSQL StatefulSet
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Catalog Deployment
    â”‚   â”‚   â”œâ”€â”€ Service (ClusterIP)
    â”‚   â”‚   â””â”€â”€ PostgreSQL StatefulSet
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Borrowing Deployment
    â”‚   â”‚   â”œâ”€â”€ Service (ClusterIP)
    â”‚   â”‚   â””â”€â”€ PostgreSQL StatefulSet
    â”‚   â”‚
    â”‚   â””â”€â”€ ... (other services)
    â”‚
    â””â”€â”€ Infrastructure
        â”œâ”€â”€ Kafka StatefulSet
        â”œâ”€â”€ Elasticsearch StatefulSet
        â””â”€â”€ MinIO StatefulSet
```

---

## **DIAGRAM 8: CI/CD Pipeline**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GitHub Actions Workflow                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Git Push
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Trigger   â”‚
â”‚  (on push)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Build     â”‚
â”‚  (Maven)    â”‚
â”‚  - Compile  â”‚
â”‚  - Test     â”‚
â”‚  - Package  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Scan      â”‚
â”‚  (Trivy)    â”‚
â”‚  - Security â”‚
â”‚  - Vulnerabilities
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Build     â”‚
â”‚  (Docker)   â”‚
â”‚  - Image    â”‚
â”‚  - Tag      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Push      â”‚
â”‚  (GHCR)     â”‚
â”‚  - Registry â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Deploy    â”‚
â”‚  (Helm)     â”‚
â”‚  - K8s      â”‚
â”‚  - Update   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **DIAGRAM 9: Service Dependencies**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Service Dependency Graph                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Gateway  â”‚
                    â”‚  :8080   â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  IAM   â”‚      â”‚ Catalog  â”‚    â”‚ Borrowingâ”‚
   â”‚ :8082  â”‚      â”‚  :8081   â”‚    â”‚  :8083   â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚                â”‚
       â”‚               â”‚                â”‚
       â–¼               â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚IAM DB â”‚      â”‚Catalog DBâ”‚    â”‚Borrow DB â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                       â”‚                â”‚
                       â”‚                â”‚
                       â–¼                â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Kafka   â”‚    â”‚  Kafka   â”‚
                  â”‚  Events  â”‚    â”‚  Events  â”‚
                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                       â”‚                â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â–¼                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Search  â”‚          â”‚Notify    â”‚
              â”‚  :8084   â”‚          â”‚ :8085    â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚Elastic   â”‚
              â”‚:9200     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dependencies:
- Gateway â†’ All services
- Borrowing â†’ Catalog (for book availability)
- Search â†’ Catalog (via Kafka events)
- Notification â†’ All services (via Kafka events)
- Admin â†’ Catalog, Borrowing (aggregation)
```

---

## **DIAGRAM 10: Data Flow (Book Creation)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Book Creation Flow (End-to-End)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Frontend Request
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Client  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚ POST /api/catalog/v1/books
        â”‚ Authorization: Bearer <JWT>
        â”‚ Body: {title, author, isbn, quantity}
        â–¼
2. Gateway
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Gateway   â”‚
   â”‚  - Validate JWT
   â”‚  - Route to Catalog
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
3. Catalog Service
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Catalog   â”‚
   â”‚  - Validate ISBN
   â”‚  - Create Book Entity
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
4. Database Write
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Catalog DB  â”‚
   â”‚  - INSERT books
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
5. Event Publishing
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Kafka     â”‚
   â”‚  Topic: book-events
   â”‚  Event: BookCreated
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â”€â”€â–º Search Service (Index in Elasticsearch)
        â”‚
        â””â”€â”€â”€â–º Notification Service (Send email)
        â”‚
        â””â”€â”€â”€â–º Admin Service (Update statistics)

6. Response
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Client  â”‚ â† 201 Created + Book Data
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **DIAGRAM 11: Scalability Comparison**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Scalability Comparison                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MONOLITHIC:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Single App     â”‚
â”‚   Port: 8080      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  All     â”‚   â”‚
â”‚   â”‚ Features â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  MySQL  â”‚ â† Bottleneck
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Scaling: Vertical only (bigger server)
Limit: Database connection pool


MICROSERVICES:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Catalog  â”‚  â”‚  Search  â”‚  â”‚ Borrowingâ”‚
â”‚ :8081    â”‚  â”‚  :8084   â”‚  â”‚  :8083   â”‚
â”‚ Scale: 3x â”‚  â”‚ Scale: 5xâ”‚  â”‚ Scale: 2xâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚
     â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Cat DB   â”‚  â”‚Elastic   â”‚  â”‚Bor DB   â”‚
â”‚Scale: 2xâ”‚  â”‚Scale: 3x â”‚  â”‚Scale: 1xâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Scaling: Horizontal per service
Benefit: Scale only what's needed
```

---

## **USAGE INSTRUCTIONS**

### **For PowerPoint/Keynote:**
1. Copy diagram text
2. Use monospace font (Courier New, Monaco)
3. Adjust font size (10-12pt)
4. Use boxes/shapes for visual enhancement

### **For Online Tools:**
- **Draw.io**: Import as text or recreate
- **Miro**: Use text boxes
- **Lucidchart**: Recreate with shapes

### **For Markdown Presentations:**
- Use as-is in markdown slides
- Compatible with Marp, Reveal.js

---

**Use these diagrams in your presentation slides! ğŸ¨**

