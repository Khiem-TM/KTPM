<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Vault - ChatGPT</title>
    <link rel="stylesheet" href="/css/chat-bot.css">
    <link rel="stylesheet" href="/css/frame.css">
<!--    <link rel="stylesheet" href="/css/book-list.css">-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
          integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
</head>
<body>
<div th:replace="~{frame :: header}"></div>
<nav>
    <ul class="nav__list">
        <li class="nav__item" data-tooltip="Home">
            <a href="/books">
                <i class='bx bx-home-alt'></i>
            </a>
        </li>
        <li class="nav__item" data-tooltip="Favorite">
            <a href="/users/favourites">
                <i class='bx bx-book-heart'></i>
            </a>
        </li>
        <li class="nav__item" data-tooltip="History">
            <a href="/users/borrow-history">
                <i class='bx bx-history'></i>
            </a>
        </li>
        <li class="nav__item" data-tooltip="Chatbot">
            <a href="/chat/bot">
                <i class='bx bx-bot'></i>
            </a>
        </li>
        <li class="nav__item" data-tooltip="Chat">
            <i class='bx bx-chat'></i>
        </li>
        <br>
        <li class="nav__item" data-tooltip="Account">
            <a href="/users/profile">
                <i class='bx bx-user-circle'></i>
            </a>
        </li>
        <li class="nav__item" data-tooltip="Logout">
            <a href="/logout">
                <i class='bx bx-log-out'></i>
            </a>
        </li>
    </ul>
<!--    <div th:replace="~{chat :: body}"></div>-->
<!--    <script>-->
<!--        // JavaScript code to handle toggle-->
<!--        const chatButton = document.querySelector('.nav__item[data-tooltip="Chat"]');-->
<!--        const chatContainer = document.querySelector('.chat-container');-->

<!--        chatButton.addEventListener('click', () => {-->
<!--            chatContainer.classList.toggle('active');-->
<!--        });-->
<!--    </script>-->

</nav>

<div class="chat-container">
    <section class="chat">
        <h2>Chat with ChatGPT</h2>

        <div class="chat-box">
            <div class="message user-message">
                <strong>You:</strong> <span th:text="${userMessage}"></span>
            </div>
            <div class="message bot-message">
                <strong>Bot:</strong> <span th:text="${botResponse}"></span>
            </div>
        </div>

        <form method="POST" action="/chat/bot" class="input-form">
            <label>
                <input type="text" name="userMessage" placeholder="Type a message..." required>
            </label>
            <button type="submit" style="background-color: green; color: white; border: none; padding: 10px 20px; cursor: pointer; transition: background-color 0.3s ease;">
                Send
            </button>
            <script>
                document.querySelector('button[type="submit"]').addEventListener('mousedown', function() {
                    this.style.backgroundColor = 'lightgreen';
                });
                document.querySelector('button[type="submit"]').addEventListener('mouseup', function() {
                    this.style.backgroundColor = 'green';
                });
            </script>
        </form>
    </section>
</div>
<script>
    const adminMenuItem = document.getElementById("adminRole");
    const adminApiMenuItem = document.getElementById("adminapiRole");
    adminMenuItem.style.display = "none";
    adminApiMenuItem.style.display = "none";
</script>
</body>
</html>
